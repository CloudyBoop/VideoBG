using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using UnityEngine;
using UnityEngine.UI;
using UnityEngine.Video;

namespace VideoBG
{
    public class Main : MelonLoader.MelonMod
    {
        private const string bundlecontent = "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";
        private AssetBundle ab;
        public override void OnApplicationStart()
        {
            ab = AssetBundle.LoadFromMemory(Convert.FromBase64String(bundlecontent));
        }

        public override void OnSceneWasInitialized(int buildIndex, string sceneName)
        {
            
            GameObject.Destroy(GameObject.Find("UserInterface/MenuContent/Backdrop/Backdrop/Background"));
            GameObject.Instantiate(ab.LoadAsset<GameObject>("Background"),
                GameObject.Find("UserInterface/MenuContent/Backdrop/Backdrop").transform);
        }
    }
}
